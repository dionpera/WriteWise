<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Essay Linking Words Dictionary & Thesaurus with Grammar Checker</title>
  <style>
    body { font-family: Arial, sans-serif; }
    .word-container { margin-bottom: 20px; }
    .word { font-weight: bold; color: #333; }
    .definition { margin-left: 20px; }
    .examples { margin-left: 20px; font-style: italic; color: #555; }
    .highlight { background-color: yellow; }
    .thesaurus-synonyms { margin-left: 20px; font-style: italic; color: #666; }
  </style>
</head>
<body>
  <h1>Linking Words Dictionary, Thesaurus & Grammar Checker</h1>
  
  <!-- Grammar Checker Section -->
  <h2>Grammar Checker</h2>
  <div>
    <textarea id="inputText" rows="6" cols="50" placeholder="Enter text to check grammar..."></textarea>
    <br>
    <button onclick="checkGrammar()">Check Grammar</button>
  </div>
  
  <h3>Grammar Issues:</h3>
  <div id="grammarIssues"></div>
  
  <h3>Spelling Suggestions:</h3>
  <div id="spellingSuggestions"></div>
  
  <!-- Linking Words Dictionary Section -->
  <h2>Linking Words Dictionary</h2>
  <div class="word-container">
    <p class="word">Moreover</p>
    <p class="definition">Used to add further information or to emphasise a point.</p>
    <p class="examples">Example: "The project requires a lot of research. <span class="word">Moreover</span>, it demands creativity and time management."</p>
  </div>
  <div class="word-container">
    <p class="word">Therefore</p>
    <p class="definition">Indicates a result or consequence.</p>
    <p class="examples">Example: "She studied hard for the exam. <span class="word">Therefore</span>, she passed with excellent marks."</p>
  </div>
  <!-- You can add more linking words here -->

  <!-- Thesaurus Section -->
  <h2>Thesaurus</h2>
  <div>
    <label for="wordInput">Enter a word to find synonyms:</label>
    <input type="text" id="wordInput" placeholder="e.g., happy">
    <button onclick="getSynonyms()">Get Synonyms</button>
  </div>

  <h3>Synonyms:</h3>
  <div id="synonymResults"></div>

  <script>
    // Function for Grammar Checking (no changes here)
    function checkGrammar() {
      let text = document.getElementById('inputText').value;
      let grammarIssues = [];
      let spellingSuggestions = [];
      
      // Check for missing capital letter at the beginning of a sentence
      let sentences = text.split(/(?<=[.!?])\s+/); // Split text into sentences using punctuation
      sentences.forEach((sentence, index) => {
        let trimmedSentence = sentence.trim();
        
        // Check if the first letter is capitalised
        if (trimmedSentence.charAt(0) !== trimmedSentence.charAt(0).toUpperCase()) {
          grammarIssues.push({
            issue: "The first letter of the sentence should be capitalised.",
            sentence: `"${trimmedSentence}"`
          });
        }

        // Check if there's missing punctuation at the end of the sentence
        if (!/[.!?]$/.test(trimmedSentence)) {
          grammarIssues.push({
            issue: "Missing punctuation at the end of the sentence. Please add a full stop, question mark, or exclamation mark.",
            sentence: `"${trimmedSentence}"`
          });
        }
      });

      // Check for common British spelling mistakes
      const commonMisspellings = {
        "color": "colour",
        "realize": "realise",
        "organize": "organise",
        "center": "centre",
        "theater": "theatre",
        "defense": "defence",
        "travelling": "travelling",
        "favourite": "favourite",
        "honor": "honour",
        "organised": "organised"
      };

      // Check for misspellings
      Object.keys(commonMisspellings).forEach((correctSpelling) => {
        let regex = new RegExp("\\b" + correctSpelling + "\\b", "gi");
        if (text.match(regex)) {
          let misspelledWord = text.match(regex)[0];
          spellingSuggestions.push({
            incorrect: misspelledWord,
            suggestion: commonMisspellings[correctSpelling]
          });
        }
      });

      // Display the grammar issues
      let grammarDiv = document.getElementById('grammarIssues');
      grammarDiv.innerHTML = "";
      grammarIssues.forEach(issue => {
        grammarDiv.innerHTML += `<p>Issue: ${issue.issue} Sentence: ${issue.sentence}</p>`;
      });

      // Display the spelling suggestions
      let spellingDiv = document.getElementById('spellingSuggestions');
      spellingDiv.innerHTML = "";
      spellingSuggestions.forEach(suggestion => {
        spellingDiv.innerHTML += `<p>Spelling Suggestion: ${suggestion.incorrect} (Did you mean "${suggestion.suggestion}"?)</p>`;
      });
      
      // Highlight the text
      highlightText(text, grammarIssues);
    }

    function highlightText(text, grammarIssues) {
      let highlightedText = text;

      // Highlight grammar issues
      grammarIssues.forEach(issue => {
        highlightedText = highlightedText.replace(issue.sentence, `<span class="highlight">${issue.sentence}</span>`);
      });

      // Replace the content with highlighted text
      document.getElementById('inputText').value = highlightedText;
    }

    // Function for getting synonyms (Thesaurus functionality)
    function getSynonyms() {
      const wordInput = document.getElementById('wordInput').value.trim().toLowerCase();
      const synonyms = {
        "happy": ["joyful", "content", "cheerful", "elated", "delighted"],
        "sad": ["unhappy", "sorrowful", "depressed", "downcast", "melancholy"],
        "fast": ["quick", "rapid", "speedy", "swift", "hurried"],
        "strong": ["powerful", "sturdy", "tough", "robust", "muscular"],
        "beautiful": ["attractive", "pretty", "lovely", "gorgeous", "elegant"],
        "good": ["excellent", "fine", "superb", "great", "positive"],
        "big": ["large", "huge", "gigantic", "immense", "vast"]
      };

      // If synonyms exist for the entered word, display them
      if (synonyms[wordInput]) {
        let synonymDiv = document.getElementById('synonymResults');
        synonymDiv.innerHTML = `<p>Synonyms for <strong>${wordInput}</strong>: ${synonyms[wordInput].join(", ")}</p>`;
      } else {
        document.getElementById('synonymResults').innerHTML = `<p>No synonyms found for "${wordInput}".</p>`;
      }
    }
  </script>
</body>
</html>
