<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WriteWise Grammar Checker</title>
  <style>
    body { font-family: Arial, sans-serif; }
    .container { max-width: 800px; margin: 20px auto; padding: 20px; }
    h1, h2 { text-align: center; color: #333; }
    .word-container { margin-bottom: 20px; }
    .word { font-weight: bold; color: #333; }
    .definition { margin-left: 20px; }
    .examples { margin-left: 20px; font-style: italic; color: #555; }
    .highlight { background-color: yellow; font-weight: bold; }
    #grammar-result { color: red; margin-top: 20px; }
    textarea { width: 100%; height: 150px; margin-bottom: 10px; }
    .suggestion { color: green; font-weight: bold; }
    .output-box { margin-top: 20px; padding: 10px; background-color: #f0f0f0; border-radius: 5px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>WriteWise Grammar Checker & Dictionary</h1>

    <!-- Grammar Checker Section -->
    <h2>Grammar Checker</h2>
    <textarea id="text-input" placeholder="Enter text to check grammar..."></textarea>
    <button onclick="checkGrammar()">Check Grammar</button>
    <div id="grammar-result"></div>

    <!-- Link Word Dictionary -->
    <h2>Linking Words Dictionary</h2>
    <div class="word-container">
      <p class="word">Moreover</p>
      <p class="definition">Used to add further information or to emphasize a point.</p>
      <p class="examples">Example: "The project requires a lot of research. <span class="word">Moreover</span>, it demands creativity and time management."</p>
    </div>
    <div class="word-container">
      <p class="word">Therefore</p>
      <p class="definition">Indicates a result or consequence.</p>
      <p class="examples">Example: "She studied hard for the exam. <span class="word">Therefore</span>, she passed with excellent marks."</p>
    </div>

    <!-- Suggestions Output -->
    <div id="suggestions-output" class="output-box"></div>
  </div>

  <script>
    // Word Bank (for example, linking words and basic checks)
    const wordBank = {
      linkingWords: ["Moreover", "Therefore", "However", "Because", "Thus", "Meanwhile"],
      commonMistakes: {
        "teh": "the",
        "recieve": "receive",
        "alot": "a lot",
        "wich": "which",
        "definately": "definitely",
        "occurred": "occurred"
      },
      properNouns: ["New York", "John", "Sarah", "London", "Paris"] // List of proper nouns (cities, names, etc.)
    };

    function checkGrammar() {
      let inputText = document.getElementById('text-input').value;
      let grammarResult = document.getElementById('grammar-result');
      let suggestionsOutput = document.getElementById('suggestions-output');
      let resultText = inputText;

      // Initialize results
      let issuesFound = false;
      let issueMessages = [];

      // Check if the first letter is lowercase (missing capitalization)
      let firstLetter = inputText.trim().charAt(0);
      if (firstLetter && firstLetter === firstLetter.toLowerCase()) {
        issuesFound = true;
        issueMessages.push("Issue: The first letter should be capitalized.");
        resultText = resultText.replace(firstLetter, firstLetter.toUpperCase());
      }

      // Check for punctuation at the end of the sentence
      let endPunctuationPattern = /[.!?]$/;
      if (!endPunctuationPattern.test(inputText.trim())) {
        issuesFound = true;
        issueMessages.push("Issue: Missing punctuation at the end of the sentence. Please add a period, question mark, or exclamation mark.");
        resultText += " <span class='highlight'>Suggestion: Please add appropriate punctuation.</span>";
      }

      // Check for missing commas in a series of items (e.g., "My house is number 30 i love living there.")
      let missingCommaPattern = /\b(\w+)\s(\w+)\s/;
      if (missingCommaPattern.test(inputText)) {
        issuesFound = true;
        issueMessages.push("Issue: Possible missing comma between phrases.");
      }

      // Check for proper nouns (capitalization of names, cities, etc.)
      wordBank.properNouns.forEach(noun => {
        let regex = new RegExp(`\\b${noun.toLowerCase()}\\b`, 'g');
        resultText = resultText.replace(regex, (match) => `<span class='highlight'>${match.charAt(0).toUpperCase() + match.slice(1)}</span>`);
      });

      // Check for spelling mistakes from the commonMistakes bank
      let words = inputText.split(' ');
      let correctedText = words.map(word => {
        if (wordBank.commonMistakes[word.toLowerCase()]) {
          return `<span class='highlight'>${word} (Did you mean "${wordBank.commonMistakes[word.toLowerCase()]}?")</span>`;
        }
        return word;
      }).join(' ');

      suggestionsOutput.innerHTML = `<p><b>Spelling Suggestions:</b> ${correctedText}</p>`;

      if (issuesFound) {
        grammarResult.innerHTML = issueMessages.join("<br>");
      } else {
        grammarResult.innerHTML = "No grammar or punctuation issues found!";
      }

      document.getElementById('text-input').value = resultText;
    }
  </script>
</body>
</html>
